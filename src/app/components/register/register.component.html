<section class="registerSection">
    <mat-card>
        <section *ngIf="errorMessage !== null" class="submitOutput">
            <app-alert [alertType]="cssClass" [message]="errorMessage"></app-alert>
        </section>
        <mat-card-title>Register</mat-card-title>
        <mat-card-content>
            <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
                <p>
                    <mat-form-field>
                        <input matInput id="email" type="text" formControlName="email" placeholder="Email" required />
                    </mat-form-field>
                </p>
                <p>
                    <mat-form-field>
                        <input
                            matInput
                            id="password"
                            type="password"
                            class="form-control"
                            formControlName="password"
                            placeholder="Password"
                            required
                        />
                    </mat-form-field>
                </p>
                <mat-card-subtitle>
                    Password must have 8 characters, 1 upper- <br />lowercase, 1 number and a special character
                </mat-card-subtitle>
                <section *ngIf="registerForm.invalid && email?.touched">
                    <section
                        *ngIf="email?.errors?.['required'] || email?.errors?.['email']"
                        [ngClass]="email?.errors?.['required'] || email?.errors?.['email'] ? 'alert-danger' : 'alert-succes'"
                    >
                        <i class="material-icons">
                            {{
        email?.errors?.['required'] || email?.errors?.['email'] ? "cancel" : "check_circle"
                            }}
                        </i>
                        Please enter a valid email address
                    </section>
                </section>
                <section *ngIf="registerForm.invalid && password?.dirty">
                    <section
                        *ngIf="password?.errors?.['required'] || password?.errors?.['minlength']"
                        [ngClass]="password?.errors?.['required'] || password?.errors?.['minlength'] ? 'alert-danger' : 'alert-succes'"
                    >
                        <i class="material-icons">
                            {{
        password?.errors?.['required'] || password?.errors?.['minlength'] ? "cancel" : "check_circle"
                            }}
                        </i>
                        Password must be at least 8 characters long.
                    </section>
                    <section
                        *ngIf="password?.errors?.['required'] || password?.errors?.['hasCapitalCase'] || password?.errors?.['hasLowerCase']"
                        [ngClass]="password?.errors?.['required'] || password?.errors?.['hasCapitalCase'] || password?.errors?.['hasLowerCase'] ? 'alert-danger' : 'alert-succes'"
                    >
                        <i class="material-icons">
                            {{
        password?.errors?.['required'] || password?.errors?.['hasCapitalCase'] || password?.errors?.['hasLowerCase']? "cancel" : "check_circle"
                            }}
                        </i>
                        Password must have atleast 1 upper and 1 lower case letter.
                    </section>
                    <section
                        *ngIf="password?.errors?.['required'] || password?.errors?.['hasNumber']"
                        [ngClass]="password?.errors?.['required'] || password?.errors?.['hasNumber'] ? 'alert-danger' : 'alert-succes'"
                    >
                        <i class="material-icons">
                            {{
        password?.errors?.['required'] || password?.errors?.['hasNumber'] ? "cancel" : "check_circle"
                            }}
                        </i>
                        Password must have atleast 1 number.
                    </section>
                    <section
                        *ngIf="password?.errors?.['required'] || password?.errors?.['hasSpecialCharacter']"
                        [ngClass]="password?.errors?.['required'] || password?.errors?.['hasSpecialCharacter'] ? 'alert-danger' : 'alert-succes'"
                    >
                        <i class="material-icons">
                            {{
        password?.errors?.['required'] || password?.errors?.['hasSpecialCharacter'] ? "cancel" : "check_circle"
                            }}
                        </i>
                        Password must have atleast 1 special character (#?!@$%^&*-).
                    </section>
                </section>
                <button type="submit" (keydown.enter)="onSubmit()" [disabled]="!registerForm.valid">Register</button>
            </form>
        </mat-card-content>
        <a href="/login">Already have an account? Login here</a>
    </mat-card>
</section>
